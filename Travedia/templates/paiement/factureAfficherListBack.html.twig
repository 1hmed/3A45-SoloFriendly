{% extends 'baseback.html.twig' %}

{% block body %}






    <div class="main-panel ">
    <div class="content-wrapper ">
    <div class="row ">
<div class="col-lg-12 grid-margin stretch-card">
    <div class="card">


    <div class="card-body" style="margin: auto ">
        <h4 class="card-title">Table Facture</h4>
        <p class="card-description">
        </p>
        <li class="nav-item nav-search border-0 ml-1 ml-md-3 ml-lg-5 d-none d-md-flex">

            <form class="nav-link form-inline mt-2 mt-md-0">
                <div class="input-group" >
                    <input  id="myInput"  type="text" class="form-control" placeholder="searchD">
                    <div class="input-group-append">
                      <span class="input-group-text">
                        <i class="mdi mdi-magnify"></i>
                      </span>
                    </div>
                </div>
            </form>
        </li>

        <small>  Cherchez par nom utilisateur ou prix</small>
    <div class=" table-responsive" >
        <table id="tab" class="table table-striped table-hover " style="margin-top: 100px; overflow-x: auto">
            <thead>
                <tr>
                <td style="word-break:break-all">Prix</td>
                <td style="word-break:break-all">Statut</td>
                <td style="word-break:break-all">Date Création</td>
                <td style="word-break:break-all">Date Paiement</td>
                <td style="word-break:break-all">Type Paiement</td>
                <td style="word-break:break-all">Guide Nom</td>
                <td style="word-break:break-all">Client Nom</td>
                <td style="word-break:break-all">Planning</td>
                    <td> Actions</td>
                </tr>

            </thead>
        <tbody>
            {% for facture in factures %}
                <tr  style="vertical-align: middle" >
                    <td style="word-break:break-all">{{ facture.prix }} </td>
                    <td style="word-break:break-all">{{ facture.statut }} </td>
                    <td style="word-break:break-all">{{ facture.dateCreation|date('Y-m-d') }} </td>
                    <td style="word-break:break-all">{{ facture.datePaiement|date('Y-m-d') }} </td>
                    <td style="word-break:break-all">{{ facture.typePaiement }} </td>
                    <td style="word-break:break-all">{{ facture.owner.nom }} {{ facture.owner.prenom}} </td>
                    <td style="word-break:break-all">{{ facture.client.nom }} {{ facture.client.prenom }}</td>
                    <td style="word-break:break-all">{{ facture.planning.id }} </td>

                    <td>
                        <div class="list-group-item btn-group-vertical" role="group">
                        <a class="btn-sm btn-success btn-block " href="{{ path('supprimerFacture',{'id':facture.id}) }}">Supprimer</a>
                        <a class="btn-sm btn-success btn-block"  href="{{ path('modifierFactureBack',{'id':facture.id}) }}">Modifier</a>
                        <a class="btn-sm btn-success btn-block" href="{{ path('afficherFactureBack',{'id':facture.id}) }}">Afficher</a>
                        </div>
                    </td>



                </tr>
        </tbody>
            {% endfor %}
        </table>
        <div class="navigation">
            {{ knp_pagination_render(factures,'@KnpPaginator/Pagination/twitter_bootstrap_v4_pagination.html.twig',{'rounded': true,'size': 'small' }) }}

        </div>
        <a class="btn btn-success" href="{{ path('createFacture') }}" style="display:block;text-align: center;margin: auto">Créer Facture</a>
    </div>
    </div>
    </div>
</div>
    </div>
    </div>
    </div>

    {% block javascripts %}


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            $(document).ready(function(){
                $("#myInput").on("keyup", function() {
                    var value = $(this).val().toLowerCase();
                    $("#tab").filter(function() {
                        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                    });
                });
            });
        </script>

    {% endblock %}







{% endblock %}